{"version":3,"sources":["../src/AbstractService.js"],"names":["path","require","AbstractService","plugin","runtimeDir","settings","stackName","getStackName","layerName","bucketName","getBucketName","provider","dependenceFilename","join","getBucketLayersPath","dependenciesPath","zipFileKeyName","test","process","platform","replace","module","exports"],"mappings":";;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;IAEMC,e,GACJ,yBAAYC,MAAZ,EAAoB;AAAA;AAClB,OAAKA,MAAL,GAAcA,MAAd;AADkB,MAGVC,UAHU,GAGK,KAAKD,MAAL,CAAYE,QAHjB,CAGVD,UAHU;AAKlB,OAAKE,SAAL,GAAiBH,MAAM,CAACI,YAAP,EAAjB;AACA,OAAKC,SAAL,GAAiBL,MAAM,CAACI,YAAP,gBAA4BH,UAA5B,CAAjB;AACA,OAAKK,UAAL,GAAkBN,MAAM,CAACO,aAAP,EAAlB;AACA,OAAKC,QAAL,GAAgB,KAAKR,MAAL,CAAYQ,QAA5B;AAEA,OAAKC,kBAAL,GAA0BZ,IAAI,CAACa,IAAL,CAAUV,MAAM,CAACW,mBAAP,EAAV,EAAwC,KAAKX,MAAL,CAAYE,QAAZ,CAAqBU,gBAA7D,CAA1B;AACA,OAAKC,cAAL,aAAyBhB,IAAI,CAACa,IAAL,CAAU,KAAKV,MAAL,CAAYW,mBAAZ,EAAV,EAA6C,KAAKR,SAAlD,CAAzB;;AAEA,MAAI,OAAOW,IAAP,CAAYC,OAAO,CAACC,QAApB,CAAJ,EAAmC;AACjC,SAAKH,cAAL,GAAsB,KAAKA,cAAL,CAAoBI,OAApB,CAA4B,KAA5B,EAAmC,GAAnC,CAAtB;AACA,SAAKR,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBQ,OAAxB,CAAgC,KAAhC,EAAuC,GAAvC,CAA1B;AACD;AACF,C;;AAGHC,MAAM,CAACC,OAAP,GAAiBpB,eAAjB","sourcesContent":["const path = require('path');\n\nclass AbstractService {\n  constructor(plugin) {\n    this.plugin = plugin;\n\n    const { runtimeDir } = this.plugin.settings;\n\n    this.stackName = plugin.getStackName();\n    this.layerName = plugin.getStackName() + `-${runtimeDir}`;\n    this.bucketName = plugin.getBucketName();\n    this.provider = this.plugin.provider;\n\n    this.dependenceFilename = path.join(plugin.getBucketLayersPath(), this.plugin.settings.dependenciesPath);\n    this.zipFileKeyName = `${path.join(this.plugin.getBucketLayersPath(), this.stackName)}.zip`;\n\n    if (/^win/.test(process.platform)) {\n      this.zipFileKeyName = this.zipFileKeyName.replace(/\\\\/g, '/');\n      this.dependenceFilename = this.dependenceFilename.replace(/\\\\/g, '/');\n    }\n  }\n}\n\nmodule.exports = AbstractService\n"],"file":"AbstractService.js"}